<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Documentation - My Docs</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">My Docs</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Introduction</a>
                            </li>
                            <li class="active">
                                <a href="./">Documentation</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="..">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="disabled">
                                <a rel="prev" >
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#documentation">Documentation</a></li>
            <li><a href="#api-overview">Api Overview</a></li>
            <li><a href="#api-resources">API Resources</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="documentation">Documentation</h1>
<h2 id="api-overview">Api Overview</h2>
<h6 id="this-api-allows-to-accept-cryptocurencies-payments-more-details-can-be-found-on-our-website-httpsbtcethcc">This API allows to accept <b>cryptocurencies</b> payments. More details can be found on our website: https://btceth.cc/</h6>
<h4 id="api-keys">API Keys</h4>
<p>In order to use the system you need an API key. Getting a key is free and easy, sign up here:
https://btceth.cc</p>
<h4 id="multiple-currencies">Multiple Currencies</h4>
<p>Once registered, you can manage the currencies you want to integrate in the Membership area / Currencies. 
Please enable the currencies there before using this API.</p>
<h2 id="api-resources">API Resources</h2>
<h3 id="get-currenciestokentoken">GET /currencies/?token={token}</h3>
<p>Get a list of enabled currencies.</p>
<p><strong>Example:</strong> https://api.btceth.cc/currencies/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key</p>
<p><strong>Response body:</strong></p>
<pre><code class="json">{
   &quot;success&quot;: true,
   &quot;data&quot;: [
       &quot;yoc&quot;,
       &quot;eth&quot;
   ]
}
</code></pre>

<h3 id="get-cryptopaymenttokentoken">GET /{crypto}/payment/?token={token}</h3>
<h3 id="get-cryptopaymentcallback_urltokentoken">GET /{crypto}/payment/{callback_url}/?token={token}</h3>
<p>Create payment request</p>
<p><strong>Examples:</strong>
 - Without callback: 
  https://api.btceth.cc/yoc/payment/?token=WKt2skCsqns6666666666CJv0m4DUkX
 - With callback: https://api.btceth.cc/yoc/payment/http%3A%2F%2Fexample.com%2Fcb.php/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key
 - crypto - Crypto currency to accept</p>
<p><strong>Optional parameters:</strong>
 - callback_url - Your server callback url (urlencoded) to get information about payment</p>
<p><strong>Response body:</strong></p>
<p><em>The API always responds with a JSON string. [data] collection contains the important values:</em>
 - <em>[address] is the payment address to show to the customer</em>
 - <em>[invoice] is our inner payment identifier, keep it in a safe place and never disclose to your clients.</em></p>
<pre><code class="json">{
    &quot;success&quot;: true,
    &quot;data&quot;: {
        &quot;invoice&quot;: &quot;d1ddf6e3767030b06666666eae403600&quot;,
        &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;
    }
}
</code></pre>

<p><strong>PHP example:</strong></p>
<pre><code class="php">require('yopay.php');

define('API_SECRET', 'your_secret_from_cabinet');
define('API_URL', 'https://api.btceth.cc/');

$yo = new YopayApi(API_SECRET, API_URL);

$orderId = 123;
$callback = 'http://example.com/yopay/callback.php?orderId=' . $orderId;

$address = $yo-&gt;getAddress($callback);

if ($address['success'] == false) die('Error: ' . $address['error']);
$data = $address['data'];
$invoiceId = $data['invoice']; //save it where you need

die('Please send your coins to address: ' . $data['address']);
</code></pre>

<p><strong>Callback example:</strong></p>
<p><em>A callback is sent every time a new block is mined. It stops when transaction get maxConfirmations confirmations. See code sample below.</em></p>
<pre><code class="json">{
    &quot;transaction_amount&quot;: 2000000000000000000,
    &quot;transaction_hash&quot;: &quot;0xfd4609159efea3804335e4a2666666666666666666666bb07869cc8b5536827c&quot;,
    &quot;block_hash&quot;: &quot;0xd5800a894ac462cd3338f24068a6666666666666666666664a58fed4b9e15e8f&quot;,
    &quot;block_number&quot;: 140,
    &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;,
    &quot;callback&quot;: &quot;http://example.com/cb.php&quot;,
    &quot;blockchain&quot;: &quot;yoc&quot;,
    &quot;status&quot;: &quot;complete&quot;,
    &quot;confirmations&quot;: 13,
    &quot;invoice&quot;: &quot;d1ddf6e3767030b06666666eae403600&quot;,
    &quot;maxConfirmations&quot;: 4
}
</code></pre>

<p><strong>PHP callback cb.php example:</strong></p>
<pre><code class="php">$orderId = $_GET['orderId'];
$data = file_get_contents('php://input');
if ($data) {
    $params = json_decode($data, true);
    $invoice = $params['invoice'];

    //save number of confirmations to DB: $params['confirmations']

    if ($params['confirmations'] &gt;= $params['maxConfirmations']) {
        $amountPaid = $params['transaction_amount'];
        // check is order not already marked as paid
        // compare $amountPaid with order total
        // compare $invoice with one saved in the database to ensure callback is legitimate
        // do other required checks
        // mark the order as paid
        die('ok'); //stop further callbacks
    } else {
        die(&quot;waiting for confirmations&quot;);
    }
}
</code></pre>

<h3 id="get-invoiceinvoicetokentoken">GET /invoice/{invoice}/?token={token}</h3>
<p>Get Invoice Info and Status. Obtain information about invoice which already stop sent callback requests</p>
<p><strong>Example:</strong> https://api.btceth.cc/invoice/d1ddf6e3767030b06666666eae403600/?token=WKt2skCsqns6666666666CJv0m4DUkX </p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key
 - invoice - Invoice ID from Create payment request</p>
<p><strong>Response body:</strong></p>
<p><em>The API returns a JSON string containing the information about invoice that same as data sent to callback url.</em></p>
<pre><code class="json">{
    &quot;transaction_amount&quot;: 2000000000000000000,
    &quot;transaction_hash&quot;: &quot;0xfd4609159efea3804335e4a2666666666666666666666bb07869cc8b5536827c&quot;,
    &quot;block_hash&quot;: &quot;0xd5800a894ac462cd3338f24068a6666666666666666666664a58fed4b9e15e8f&quot;,
    &quot;block_number&quot;: 140,
    &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;,
    &quot;callback&quot;: &quot;http://example.com/cb.php&quot;,
    &quot;blockchain&quot;: &quot;yoc&quot;,
    &quot;status&quot;: &quot;complete&quot;,
    &quot;confirmations&quot;: 13,
    &quot;invoice&quot;: &quot;d1ddf6e3767030b06666666eae403600&quot;,
    &quot;maxConfirmations&quot;: 4
}
</code></pre>

<h3 id="get-ratesfiattokentoken">GET /rates/{fiat}/?token={token}</h3>
<p>Get Currencies exchange rates. Obtain information about currencies exchange rates against fiat from markets.</p>
<p><strong>Example:</strong> https://api.btceth.cc/rates/usd/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key
 - fiat - Comma separated fiat currencies in which you obtain rates</p>
<p><strong>Response body:</strong></p>
<p><em>The API returns a JSON string containing the information about selected currencies exchange rates.</em></p>
<pre><code class="json">{
    &quot;success&quot;: true,
    &quot;data&quot;: {
        &quot;USD&quot;: {
            &quot;YOC&quot;: {
                &quot;coinmarketcap&quot;: 0.0203020243,
                &quot;mid&quot;: 0.0203020243
            }
        },
        &quot;EUR&quot;: {
            &quot;YOC&quot;: {
                &quot;coinmarketcap&quot;: 1.4806298998,
                &quot;mid&quot;: 1.4806298998
            }
        }
    }
}
</code></pre>

<h4 id="what-to-use-as-a-payout-address">What to use as a payout address?</h4>
<p>You will need payout addresses for all crypto currencies you want to accept. Only you will have access to your payout wallets.
You can use any online wallet, service or exchange of your choice.</p>
<h3 id="get-cryptowallettokentoken">GET /{crypto}/wallet/?token={token}</h3>
<p>Retrieve wallet balance</p>
<p><strong>Example:</strong> https://api.btceth.cc/yoc/wallet/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key
 - crypto - Crypto currency to accept</p>
<p><strong>Response body:</strong></p>
<pre><code class="json">{
    &quot;success&quot;: true,
    &quot;data&quot;: {
        &quot;balance&quot;: &quot;16220000000000000&quot;,
        &quot;wallet&quot;: {
            &quot;user&quot;: &quot;5afe757f6666666666664d00&quot;,
            &quot;cold_wallet&quot;: &quot;0x2b30D2903C1366666666666666666666113E27E4&quot;,
            &quot;api_access&quot;: true,
            &quot;max_amount&quot;: null,
            &quot;max_confirmations&quot;: 3,
            &quot;min_amount&quot;: null,
            &quot;is_active&quot;: true,
            &quot;blockchain&quot;: &quot;yoc&quot;
        }
    }
}
</code></pre>

<h3 id="post-yocwithdrawtokentoken">POST /yoc/withdraw/?token={token}</h3>
<h3 id="post-yocwithdrawcallback_urltokentoken">POST /yoc/withdraw/{callback_url}/?token={token}</h3>
<p>Request withdrawal to cold wallet (You configure it in your cabinet)</p>
<p><strong>Examples:</strong> 
 - Without callback: https://api.btceth.cc/yoc/withdraw/?token=WKt2skCsqns6666666666CJv0m4DUkX
 - With callback: https://api.btceth.cc/yoc/withdraw/http%3A%2F%2Fexample.com%2Fcb.php/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Parameters:</strong>
 - token - API Secret Key
- callback_url - Your server callback url (urlencoded) to get information about withdrawal</p>
<p><strong>Request body:</strong></p>
<pre><code class="json">{
 &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;,
 &quot;amount&quot;: &quot;0.02&quot;
}
</code></pre>

<p><strong>Response body:</strong></p>
<pre><code class="json">{
    &quot;success&quot;: true,
    &quot;data&quot;: &quot;Transaction sent&quot;,
    &quot;id&quot;: &quot;5b5666666666666666662ed21&quot;
}
</code></pre>

<p><strong>Callback example:</strong></p>
<pre><code class="json">{
  &quot;withdrawal&quot;: {
    &quot;txid&quot;: &quot;0x8e81cc436666666666666666643801d8f98d4d093c1e5381c031eb55048f92ed&quot;,
    &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;,
    &quot;blockchain&quot;: &quot;yoc&quot;,
    &quot;amount&quot;: &quot;0.33&quot;,
    &quot;callback&quot;: &quot;http:/example.com/cb.php&quot;,
    &quot;status&quot;: &quot;complete&quot;,
    &quot;created&quot;: &quot;2018-07-23T12:35:35.394Z&quot;,
    &quot;id&quot;: &quot;5b55cbb7566666666689fcdb&quot;
  }
}
</code></pre>

<h3 id="get-withdrawwithdrawtokentoken">GET /withdraw/{withdraw}/?token={token}</h3>
<p>Retrieve withdrawal details</p>
<p><strong>Example:</strong> https://api.btceth.cc/withdraw/5b13c41166666fff666666e7/?token=WKt2skCsqns6666666666CJv0m4DUkX</p>
<p><strong>Headers:</strong> Content-Type: application/json</p>
<p><strong>Response body:</strong></p>
<pre><code class="json">{
    &quot;success&quot;: true,
    &quot;data&quot;: {
        &quot;txid&quot;: &quot;0x8e81cc436666666666666666643801d8f98d4d093c1e5381c031eb55048f92ed&quot;,
        &quot;address&quot;: &quot;0xf75574f061cd66666666666666666666666666f2&quot;,
        &quot;blockchain&quot;: &quot;yoc&quot;,
        &quot;amount&quot;: &quot;0.33&quot;,
        &quot;callback&quot;: &quot;http:/example.com/cb.php&quot;,
        &quot;status&quot;: &quot;complete&quot;,
        &quot;created&quot;: &quot;2018-07-23T12:35:35.394Z&quot;,
        &quot;id&quot;: &quot;5b55cbb7566666666689fcdb&quot;
      }
    }
</code></pre>

<p>Before usage:
Open settings and populate password and upload you json file
toggle api access on</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
